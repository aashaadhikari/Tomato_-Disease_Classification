{% extends "base.html" %}

{% block title %}Login - TomatoHealth{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="container-fluid h-100">
        <div class="row h-100">
            <!-- Left side - Hero image and text -->
            <div class="col-lg-6 d-none d-lg-flex auth-hero">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <i class="fas fa-leaf me-3"></i>
                        Protect Your Harvest
                    </h1>
                    <p class="hero-subtitle">
                        Advanced AI technology to detect tomato diseases early and keep your plants healthy.
                    </p>
                    <div class="hero-features">
                        <div class="feature-item">
                            <i class="fas fa-microscope"></i>
                            <span>AI-Powered Analysis</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-mobile-alt"></i>
                            <span>Mobile Friendly</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-chart-line"></i>
                            <span>Track History</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right side - Login form -->
            <div class="col-lg-6 d-flex align-items-center justify-content-center auth-form-container">
                <div class="auth-form-wrapper">
                    <div class="text-center mb-4">
                        <div class="auth-logo">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h2 class="auth-title">Welcome Back</h2>
                        <p class="auth-subtitle">Sign in to your TomatoHealth account</p>
                    </div>
                    
                    <form method="POST" class="auth-form">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="username" name="username" placeholder="Username" required>
                            <label for="username">
                                <i class="fas fa-user me-2"></i>Username
                            </label>
                        </div>
                        
                        <div class="form-floating mb-4">
                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                            <label for="password">
                                <i class="fas fa-lock me-2"></i>Password
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-success btn-lg w-100 mb-3">
                            <i class="fas fa-sign-in-alt me-2"></i>
                            Sign In
                        </button>
                    </form>
                    
                    <div class="text-center">
                        <p class="mb-0">
                            Don't have an account? 
                            <a href="{{ url_for('register') }}" class="text-success fw-bold text-decoration-none">
                                Sign up here
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Mobile Hero Section -->
<div class="mobile-hero d-lg-none">
    <div class="container py-4">
        <div class="text-center text-white">
            <i class="fas fa-seedling fa-3x mb-3"></i>
            <h1 class="h3 mb-2">TomatoHealth</h1>
            <p class="mb-0">AI-powered tomato disease detection</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Add some interactive effects to the login form
document.addEventListener('DOMContentLoaded', function() {
    // Add floating label animation
    const formInputs = document.querySelectorAll('.form-floating input');
    
    formInputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.classList.add('focused');
        });
        
        input.addEventListener('blur', function() {
            if (!this.value) {
                this.parentElement.classList.remove('focused');
            }
        });
    });
    
    // Add form validation feedback
    const form = document.querySelector('.auth-form');
    if (form) {
        form.addEventListener('submit', function(e) {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                e.preventDefault();
                
                // Show validation feedback
                if (!username) {
                    document.getElementById('username').classList.add('is-invalid');
                }
                if (!password) {
                    document.getElementById('password').classList.add('is-invalid');
                }
            }
        });
    }
    
    // Remove validation styling on input
    formInputs.forEach(input => {
        input.addEventListener('input', function() {
            this.classList.remove('is-invalid');
        });
    });
});
</script>
{% endblock %}